import {Button, Modal, useModal} from '@equisoft/design-elements-react';
import {ArgsTable, Meta, Preview, Story} from '@storybook/addon-docs/blocks';
import {Fragment} from 'react';

<Meta title="Disclosure/Modal" component={Modal} />

# Modal

The `Modal` component allows you to easily set modals up in your app.

## Import

```js
    import { Modal, useModal } from '@equisoft/design-elements-react'
```

## Accessibility

It is important for users of screenreaders that other page content be hidden (via the aria-hidden attribute) while the modal is open. To allow `Modal` to do this, you should set `appElement` prop to a query selector identifying the root of your app. For example, if your app content is located inside an element with the ID `root`, you should set the `appElement` prop like this:

```jsx
<Modal
    appElement="#root"
    isOpen={isModalOpen}
    onRequestClose={closeModal}
>
    Some Content
</Modal>
```

## Props

<ArgsTable of={Modal} />

## Examples

### Basic modal

<Preview>
    <Story name="Normal">
        {() => {
            const {isModalOpen, closeModal, openModal} = useModal();
            return (
                <Fragment>
                    <Button label="Open Modal" buttonType="primary" onClick={openModal} />
                    <Modal
                        appElement="#root"
                        ariaLabel="Modal label"
                        ariaDescribedby="story-description"
                        isOpen={isModalOpen}
                        onRequestClose={closeModal}
                    >
                        <p id="story-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                    </Modal>
                </Fragment>
            );
        }}
    </Story>
</Preview>

### Padding disabled

The prop `noPadding` removes padding to give you a blank modal to work with.

<Preview>
    <Story name="Padding disabled">
        {() => {
            const {isModalOpen, closeModal, openModal} = useModal();
            return (
                <Fragment>
                    <Button label="Open Modal" buttonType="primary" onClick={openModal} />
                    <Modal
                        appElement="#root"
                        ariaLabel="Modal label"
                        ariaDescribedby="story-description"
                        noPadding
                        isOpen={isModalOpen}
                        onRequestClose={closeModal}
                    >
                        <p id="story-description">A modal without padding</p>
                    </Modal>
                </Fragment>
            );
        }}
    </Story>
</Preview>

### Without close button

<Preview>
    <Story name="Without close button">
        {() => {
            const {isModalOpen, closeModal, openModal} = useModal();
            return (
                <Fragment>
                    <Button label="Open Modal" buttonType="primary" onClick={openModal} />
                    <Modal
                        appElement="#root"
                        ariaLabel="Modal label"
                        hasCloseButton={false}
                        isOpen={isModalOpen}
                        onRequestClose={closeModal}
                    />
                </Fragment>
            );
        }}
    </Story>
</Preview>

### With header

<Preview>
    <Story name="With header">
        {() => {
            const {isModalOpen, closeModal, openModal} = useModal();
            return (
                <Fragment>
                    <Button label="Open Modal" buttonType="primary" onClick={openModal} />
                    <Modal
                        appElement="#root"
                        ariaLabel="Modal label"
                        ariaDescribedby="story-description"
                        isOpen={isModalOpen}
                        onRequestClose={closeModal}
                        modalHeader={<b>Header content</b>}
                    >
                        <p id="story-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                    </Modal>
                </Fragment>
            );
        }}
    </Story>
</Preview>

### With footer

<Preview>
    <Story name="With footer">
        {() => {
            const {isModalOpen, closeModal, openModal} = useModal();
            return (
                <Fragment>
                    <Button label="Open Modal" buttonType="primary" onClick={openModal} />
                    <Modal
                        appElement="#root"
                        ariaLabel="Modal label"
                        ariaDescribedby="story-description"
                        isOpen={isModalOpen}
                        onRequestClose={closeModal}
                        modalFooter={<b>Footer content</b>}
                    >
                        <p id="story-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                    </Modal>
                </Fragment>
            );
        }}
    </Story>
</Preview>
